@model IEnumerable<ActividadesComplementarias.Models.ActividadCursada>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="col-lg-10 col-lg-offset-1">


    @{
        if (Session["user.tipo"].ToString() == "C")
        {<form method="get" style="margin-bottom:20px; text-align:center;">
            
             <h4>
                 <span>
                     Num. Control Estudiante

                     <input name="id" id="id" type="text" style="width:50%;" />
                 </span>
             </h4>
             <input class="btn-success" type="submit" value="Buscar" style="margin-top:15px; width:50%;" />
        </form>
        }
        if (Session["user.tipo"].ToString() == "E")
        {
            <div class="col-lg-5">
                <label>Creditos Totales: </label>
                <label> @ViewBag.TotalCreditos </label>
            </div>
        }

}
    <table class="table table-bordered table-hover" >
        <tr>
@{
        if (Session["user.tipo"].ToString() == "C")
        {
            <th>Estudiante</th>
            <th>Carrera</th>
        }
        

}           
            <th>
                <label>Actividad Complementaria</label>
            </th>
            <th>
                <label>Periodo</label>
            </th>
            <th><label>Créditos</label></th>
            <th>
                <label>Maestro</label>
            </th>
            <th>
                <label>Status</label>
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr class="success">
@{
        if (Session["user.tipo"].ToString() == "C")
        {
                <td>@Html.DisplayFor(modelItem => item.Estudiante.nombreEstudiante)</td>
                <td>@Html.DisplayFor(modelItem => item.Estudiante.Carrera1.nombreCarrera)</td>
        }

}
                <td>
                    @Html.DisplayFor(modelItem => item.ActividadComplementaria.nombreActComplementaria)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.periodo)
                </td>
                <td>@Html.DisplayFor(modelItem => item.ActividadComplementaria.noCreditos)</td>
                <td>
                    @Html.DisplayFor(modelItem => item.Maestros.nombreMaestro)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.estatusActividad)
                </td>
                <td>
                    @{
                        if(Session["User.Tipo"].ToString()=="J")
                        {
                            if (@item.estatusActividad == "Cursando")
                            { 
                                @Html.ActionLink("Acreditar", "Acreditar", new { id = item.idAvtividadCursada })<br />
                            }
                            <a href="/PDF/GenerarPdf/@item.idAvtividadCursada">Constancia</a>
                        }
                        if (Session["User.Tipo"].ToString() == "E" && @item.estatusActividad=="Acreditada")
                        {
                            <a href="/PDF/GenerarPdfAcuse/@item.idAvtividadCursada">Acuse</a><br />
                        }
                    }
                </td>
            </tr>
        }

    </table>
</div>